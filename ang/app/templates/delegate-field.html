<select class="form-control" ng-model="data[field].id" ng-options="item._id as item.display_name for item in source" ng-change="delegateChanged($event)"></select>
<br/>
<p ng-if="data[field].parameters && data[field].parameters.length > 0">
	<label>Parameters</label>
</p>

<uib-accordion ng-if="data[field].parameters && data[field].parameters.length > 0" close-others="true">
	<div uib-accordion-group ng-repeat="item in data[field].parameters track by $index" ng-init="status = {isOpen: false}" is-open="status.isOpen" ng-class="{true:'panel-primary', false:'panel-default'}[status.isOpen]">
		<uib-accordion-heading>{{item.display_name ? item.display_name : 'Parameter ' + ($index + 1)}}</uib-accordion-heading>
		<form-fields objecttypename="parameter_value_object_type._id" dataitem="item"></form-fields>
	</div>
</uib-accordion>